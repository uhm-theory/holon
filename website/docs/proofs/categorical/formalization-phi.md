---
slug: /proofs/categorical/formalization-phi
sidebar_position: 2
title: "Формализация оператора φ"
format: md
---

# Формализация Оператора Самомоделирования φ

:::info DRY: Мастер-определение φ
Это **единственное каноническое определение** оператора самомоделирования $\varphi$. Все остальные документы должны ссылаться на эту страницу, а не повторять определение.
:::

:::note φ как представитель класса гомотопической эквивалентности
В ∞-категорном фреймворке оператор φ понимается не как единственный морфизм, а как **представитель класса гомотопически эквивалентных морфизмов**:

1. **Множественность путей:** В ∞-топосе $\mathrm{Sh}_\infty(\mathcal{C})$ пространство отображений $\mathrm{Map}(\Gamma, T) \simeq *$ контрактируемо, но содержит множество путей (морфизмов), связанных гомотопиями.

2. **φ₀ как канонический представитель:** Конкретный оператор $\varphi_0$, определённый в данном документе, является **представителем** своего класса гомотопической эквивалентности $[\varphi_0]$. Выбор $\varphi_0$ осуществляется по **критерию минимальности** — минимизации расхождения с самомоделью.

3. **Свобода выбора:** Существование альтернативных представителей в том же классе $[\varphi]$ отражает фундаментальную [свободу воли](/docs/consciousness/ethics-meaning/freedom) — систем может реализовывать разные пути к одному аттрактору.

4. **Связь с Ω⁷:** Выбор конкретного представителя согласован с [аксиомой Ω⁷](/docs/core/foundations/axiom-omega), где семимерная структура фиксирует канонический базис для декомпозиции.
:::

## Сводная таблица определений φ {#сводная-таблица-определений}

В данном документе рассматриваются четыре эквивалентных определения оператора $\varphi$:

| Определение | Формула | Контекст | Статус |
|------------|---------|----------|--------|
| **Замещающий канал** | $\varphi_k(\Gamma) = (1-k)\Gamma + k\rho_*$ | Каноническое (T-62) | [Т] |
| **CPTP через операторы Крауса** | $\varphi(\Gamma) = \sum_m K_m \Gamma K_m^\dagger$ | Общая форма | [Т] |
| **Фано E-акцентуация** | $\varphi_{\text{coh}}$ с сохранением когерентностей | Теорема 8.1 (No-Zombie) | [Т] |
| **Категорный функтор** | $F: \mathbf{DensityMat} \to \mathbf{DensityMat}$ | ∞-топос | [Т] |

:::info Каноническая физическая реализация — замещающий канал (T-62)
**Замещающий канал** $\varphi_k(\Gamma) = (1-k)\Gamma + k\rho_*$ является канонической физической реализацией оператора самомоделирования ([доказательство](/docs/consciousness/foundations/self-observation#теорема-физическая-реализация-phi)). Здесь $\rho_* = \varphi(\Gamma)$ — [категориальная самомодель](/docs/core/operators/phi-operator) текущего состояния [Т], $k \in (0,1)$ — степень самомоделирования. Канал **точен** при $k \to 1$ (полная сходимость к $\rho_*$), но для промежуточных значений $k$ реализует приближённое самомоделирование — система находится в динамическом балансе между текущим состоянием и внутренней моделью. Остальные три определения эквивалентны замещающему каналу через [теорему эквивалентности](#эквивалентность-определений-phi) [Т].
:::

## Стратификация определений {#стратификация-определений}

:::info Канонический порядок
Оператор $\varphi$ определяется **через** стационарное состояние $\rho^*_{\mathrm{diss}}$, а не наоборот:

$$\Omega \xrightarrow{\text{L-унификация}} \mathcal{L}_\Omega \xrightarrow{\text{примитивность}} \rho^*_{\mathrm{diss}} = I/7 \xrightarrow{\text{близость}} R(\Gamma) = \frac{1}{7P} \xrightarrow{k=1-R} \varphi_k$$

Все компоненты цепочки имеют независимые определения: $\rho^*_{\mathrm{diss}}$ — через примитивность линейной части $\mathcal{L}_0$ [Т-39a], $R$ — через расстояние $\Gamma$ до $I/7$, параметр $k = 1 - R$ — через $R$. Цикличность отсутствует: полная иерархия уровней 0–9 в [аксиоме Ω⁷](/docs/core/foundations/axiom-septicity#теорема-непротиворечивость-иерархии-определений).
:::

## Категориальное определение φ

:::info Разрешение цикличности
Данный раздел устанавливает **независимое категориальное определение** оператора $\varphi$ через универсальное свойство, устраняя любую видимую цикличность в определениях.
:::

### φ как левый сопряжённый к включению подобъектов

В ∞-топосе $\mathrm{Sh}_\infty(\mathcal{C})$, порождённом [аксиомой Ω⁷](/docs/core/foundations/axiom-omega#внутренняя-логика), оператор самомоделирования $\varphi$ определяется как **левый сопряжённый функтор** к включению категории подобъектов:

$$
\varphi \dashv i: \mathrm{Sub}(\Gamma) \hookrightarrow \mathrm{Sh}_\infty(\mathcal{C})
$$

где:
- $\mathrm{Sub}(\Gamma)$ — категория логически непротиворечивых подобъектов $\Gamma$ (удовлетворяющих внутренней логике $\Omega$)
- $i$ — каноническое включение (вложение)
- $\varphi \dashv i$ — сопряжение (adjunction): $\varphi$ левый сопряжённый к $i$

**Универсальное свойство:** Для любого объекта $X \in \mathrm{Sh}_\infty(\mathcal{C})$ и любого подобъекта $S \in \mathrm{Sub}(\Gamma)$:

$$
\mathrm{Hom}_{\mathrm{Sub}(\Gamma)}(\varphi(X), S) \cong \mathrm{Hom}_{\mathrm{Sh}_\infty(\mathcal{C})}(X, i(S))
$$

### Теорема об эквивалентности трёх определений φ {#эквивалентность-определений-phi}

:::tip Главный результат
Три определения оператора φ **строго эквивалентны**:
:::

**Теорема (Эквивалентность определений φ):**

Следующие определения задают один и тот же оператор $\varphi$:

| # | Определение | Формула | Источник |
|---|-------------|---------|----------|
| 1 | **Категориальное** | $\varphi \dashv i: \text{Sub}(\Gamma) \hookrightarrow \mathbf{Sh}_\infty(\mathcal{C})$ | Левое сопряжение |
| 2 | **Динамическое** | $\varphi(\Gamma) = \lim_{\tau \to \infty} e^{\tau \mathcal{L}_\Omega}[\Gamma]$ | Предел эволюции |
| 3 | **Идемпотентное** | $\varphi \circ \varphi = \varphi$, $\exists \Gamma^*: \varphi(\Gamma^*) = \Gamma^*$ | Проекция с неподвижной точкой |

**Доказательство эквивалентности:**

**(1) ⟹ (2):** Категориальное ⟹ Динамическое
- Левый сопряжённый $\varphi$ к включению $i$ проецирует на инвариантное подпространство $\text{Sub}(\Gamma)$
- $\mathcal{L}_\Omega$ аннулирует $\text{Sub}(\Gamma)$: $\mathcal{L}_\Omega[S] = 0$ для $S \in \text{Sub}(\Gamma)$
- По теореме Перрона-Фробениуса для CPTP-каналов: $\lim_{\tau \to \infty} e^{\tau \mathcal{L}_\Omega} = \Pi_{\text{inv}}$
- Инвариантный проектор $\Pi_{\text{inv}} = \varphi$ по единственности левого сопряжённого ∎

:::tip Примитивность доказана [Т]
Шаг (1) ⟹ (2) использует теорему Перрона—Фробениуса для примитивных CPTP-каналов. **Примитивность $\mathcal{L}_\Omega$ доказана** для всех жизнеспособных холонов: из (AP)+(PH)+(QG)+(V) следует связность графа взаимодействия $G_H$ (иначе система распадается на блоки с $\dim < 7$, противоречие с [теоремой минимальности](/docs/proofs/minimality/theorem-minimality-7)), а связность $G_H$ + атомарные операторы $L_k = |k\rangle\langle k|$ дают тривиальный коммутант $\mathcal{F}(\mathcal{L}_\Omega) = \mathbb{C} \cdot I$ по [критерию Эванса—Спона](https://doi.org/10.1007/BF01614091) (Evans 1977, Spohn 1976). Эквивалентность (1) ⟺ (2) ⟺ (3) имеет статус **[Т]**. Полное доказательство: [Примитивность ℒ_Ω](/docs/core/operators/lindblad-operators#примитивность-ℒω).
:::

**(2) ⟹ (3):** Динамическое ⟹ Идемпотентное
- $\varphi(\varphi(\Gamma)) = \lim_{\tau \to \infty} e^{\tau \mathcal{L}_\Omega}[\lim_{s \to \infty} e^{s \mathcal{L}_\Omega}[\Gamma]]$
- $= \lim_{\tau \to \infty} \lim_{s \to \infty} e^{(\tau+s) \mathcal{L}_\Omega}[\Gamma] = \varphi(\Gamma)$ (идемпотентность)
- Неподвижная точка: $\Gamma^* := \varphi(\Gamma_0)$ для любого $\Gamma_0$, тогда $\varphi(\Gamma^*) = \varphi(\varphi(\Gamma_0)) = \varphi(\Gamma_0) = \Gamma^*$ ∎

**(3) ⟹ (1):** Идемпотентное ⟹ Категориальное
- Идемпотентное отображение $\varphi$ с $\text{Im}(\varphi) = \text{Sub}(\Gamma)$ определяет рефлектор
- Рефлектор автоматически является левым сопряжённым к включению
- Универсальное свойство: $\text{Hom}(\varphi(X), S) \cong \text{Hom}(X, i(S))$ следует из идемпотентности ∎

:::info Замечание о полноте эквивалентности
**Направление (1)⟹(2)** следует из примитивности линейной части $\mathcal{L}_0$ [Т]: левый сопряжённый $\varphi$ проецирует на инвариантное подпространство, а примитивность обеспечивает спектральную щель и сходимость линейной динамики. **Направление (2)⟹(1):** любой минимизатор вариационного функционала при условии CPTP является стационарной точкой, а CPTP-контракция φ гарантирует единственность $= \varphi$. Таким образом, (2)⟹(1) также [Т] через категориальное определение φ. Все три направления имеют статус **[Т]**.
:::

---

### Независимость от уровней когерентности

Критически важно: **$\varphi$ и уровни когерентности $L_k$ определяются независимо друг от друга**, обе конструкции выводятся из $\Omega$:

| Конструкция | Источник | Определение |
|-------------|----------|-------------|
| Уровни $L_k$ | $\Omega$ | Стратификация по [логическому Лиувиллиану](/docs/core/dynamics/evolution#логический-лиувиллиан) $\mathcal{L}_\Omega$ |
| Оператор $\varphi$ | $\Omega$ | Левый сопряжённый к включению $\mathrm{Sub}(\Gamma) \hookrightarrow \mathrm{Sh}_\infty(\mathcal{C})$ |

Это устраняет любую цикличность: оба понятия — **следствия** структуры $\Omega$, а не определены друг через друга.

См. [Иерархия зависимостей](/docs/core/foundations/axiom-omega#иерархия-зависимостей) для полной диаграммы: Ω → χ_S → L_k → ℒ_Ω → φ.

### φ(Γ) как наилучшее приближение {#φ-как-наилучшее-приближение}

**Интерпретация:** $\varphi(\Gamma)$ — это **наилучшее приближение** состояния $\Gamma$ в категории логически непротиворечивых подобъектов.

Формально, $\varphi(\Gamma)$ — это ко-рефлектор (coreflector):

$$
\varphi(\Gamma) = \mathrm{colim}_{S \in \mathrm{Sub}(\Gamma), S \leq \Gamma} S
$$

**Геометрическая интуиция:** $\varphi$ «проецирует» произвольное состояние на ближайшее логически согласованное состояние — это категориальный аналог ортогональной проекции на подпространство.

### Теорема: φ как стационарное распределение

**Теорема (φ как предел логической эволюции):**

Пусть $\mathcal{L}_\Omega$ — [логический Лиувиллиан](/docs/core/dynamics/evolution#логический-лиувиллиан), порождённый внутренней логикой $\Omega$. Тогда:

$$
\varphi(\Gamma) = \lim_{\tau \to \infty} e^{\tau \cdot \mathcal{L}_\Omega}[\Gamma]
$$

**Доказательство:**

1. Логический Лиувиллиан $\mathcal{L}_\Omega$ порождает полугруппу $\{e^{\tau \cdot \mathcal{L}_\Omega}\}_{\tau \geq 0}$ на $\mathrm{Sh}_\infty(\mathcal{C})$.

2. Инвариантные объекты этой полугруппы — в точности подобъекты из $\mathrm{Sub}(\Gamma)$:
   $$
   \mathcal{L}_\Omega[S] = 0 \quad \Leftrightarrow \quad S \in \mathrm{Sub}(\Gamma)
   $$

3. По теореме о сходимости примитивных CPTP-каналов (аналог Перрона—Фробениуса для квантовых каналов), предел $\lim_{\tau \to \infty} e^{\tau \cdot \mathcal{L}_\Omega}[\Gamma]$ существует и является проекцией на инвариантное подпространство. Примитивность $\mathcal{L}_\Omega$ для жизнеспособных холонов **[Т]** — см. [доказательство](/docs/core/operators/lindblad-operators#примитивность-ℒω).

4. Эта проекция совпадает с ко-рефлектором $\varphi$ по единственности левого сопряжённого. ∎

**Следствие:** $\varphi(\Gamma)$ — это **стационарное распределение** логической динамики, аттрактор эволюции под действием $\mathcal{L}_\Omega$.

---

## Строгая Математическая Теория

## Содержание

1. [Введение и мотивация](#1-введение-и-мотивация)
2. [Формальное определение φ](#2-формальное-определение-φ)
   - [2.6 Каноническая форма φ для УГМ](#26-каноническая-форма-φ-для-угм)
3. [Теорема о существовании неподвижной точки](#3-теорема-о-существовании-неподвижной-точки)
4. [Связь с мерой рефлексии R](#4-связь-с-мерой-рефлексии-r)
5. [Категорный аспект](#5-категорный-аспект)
6. [Следствия и ограничения](#6-следствия-и-ограничения)
7. [Требования к реализации](#7-требования-к-реализации)
8. [Операциональный алгоритм для φ](#операциональный-алгоритм)
9. [Связь с механизмом регенерации](#связь-с-регенерацией)

---

## 1. Введение и мотивация

### 1.1 Проблема

В УГМ [самонаблюдение](/docs/consciousness/foundations/self-observation) определяется через условия:
- $\Gamma$ содержит подсистему $\Gamma_{\text{model}} \approx \Gamma$
- Рефлексивное замыкание: $\varphi(\Gamma) \approx \Gamma$

Однако оператор $\varphi$ не имеет строгого определения. Данный документ восполняет этот пробел.

### 1.2 Требования к формализации

Оператор $\varphi$ должен удовлетворять:

1. **Математическая корректность:** $\varphi: \mathcal{L}(\mathcal{H}) \to \mathcal{L}(\mathcal{H})$ — определён на пространстве операторов
2. **Сохранение структуры:** $\varphi(\Gamma)$ — матрица плотности, если $\Gamma$ — матрица плотности
3. **Физическая интерпретируемость:** $\varphi$ моделирует процесс самонаблюдения
4. **Существование неподвижной точки:** для определённых условий

---

## 2. Формальное определение φ

### 2.1 Предварительные определения

**Определение 2.1 (Пространство матриц плотности):**

$$
\mathcal{D}(\mathcal{H}) := \{\rho \in \mathcal{L}(\mathcal{H}) : \rho^\dagger = \rho, \rho \geq 0, \mathrm{Tr}(\rho) = 1\}
$$

Для $\mathcal{H} = \mathbb{C}^7$ (семимерное пространство [Голонома](/docs/core/structure/holon)):

$$
\mathcal{D}(\mathbb{C}^7) \subset \mathcal{L}(\mathbb{C}^7) \cong \mathbb{C}^{7 \times 7}
$$

**Определение 2.2 (Метрика на $\mathcal{D}(\mathcal{H})$):**

[Норма Фробениуса](/docs/core/dynamics/coherence-matrix#норма-фробениуса):

$$
\|\rho_1 - \rho_2\|_F := \sqrt{\mathrm{Tr}((\rho_1 - \rho_2)^\dagger(\rho_1 - \rho_2))} = \sqrt{\sum_{ij} |\rho_{1,ij} - \rho_{2,ij}|^2}
$$

$(\mathcal{D}(\mathcal{H}), \|\cdot\|_F)$ — полное метрическое пространство (замкнутое подмножество $\mathcal{L}(\mathcal{H})$).

### 2.2 Определение через редуцированную матрицу плотности

**Определение 2.3 (Оператор самомоделирования — редукционная форма):**

Пусть система $\mathbb{H}$ с [матрицей когерентности](/docs/core/dynamics/coherence-matrix) $\Gamma \in \mathcal{D}(\mathcal{H})$ разбивается на:
- **Модельную подсистему** $M \subset \mathcal{H}$
- **Остальную систему (окружение модели)** $\bar{M} = \mathcal{H} \setminus M$

:::note О нотации
$\bar{M}$ — окружение модели. Не путать с $E$ — [измерением Интериорности](/docs/core/structure/dimension-e).
:::

Тогда:

$$
\varphi_{\text{red}}(\Gamma) := \mathrm{Tr}_{\bar{M}}(\Gamma_{\text{total}})
$$

где:
- $\Gamma_{\text{total}}$ — матрица плотности расширенной системы
- $\mathrm{Tr}_{\bar{M}}$ — частичный след по окружению модели

**Проблема:** Это определение требует расширенного пространства и не замкнуто на $\mathcal{D}(\mathcal{H})$.

### 2.3 Определение через предиктивную модель (основное определение)

**Определение 2.4 (Оператор самомоделирования — предиктивная форма):**

Пусть система обладает внутренней предиктивной моделью, представленной CPTP-отображением:

$$
\mathcal{P}: \mathcal{D}(\mathcal{H}) \to \mathcal{D}(\mathcal{H})
$$

где CPTP = Completely Positive Trace-Preserving (полностью положительное, сохраняющее след).

:::note О нотации
$\mathcal{P}$ — предиктивное CPTP-отображение. Не путать с $\Phi$ — [мерой интеграции](/docs/core/structure/dimension-u#мера-интеграции-φ).
:::

**Оператор самомоделирования:**

$$
\varphi(\Gamma) := \mathcal{P}(\Gamma)
$$

**Конструктивное определение $\mathcal{P}$:**

$\mathcal{P}$ строится через операторы Крауса $\{K_m\}$:

$$
\varphi(\Gamma) = \sum_m K_m \Gamma K_m^\dagger
$$

$$
\text{где } \sum_m K_m^\dagger K_m = I \quad \text{(условие CPTP)}
$$

**Интерпретация операторов Крауса:**
- $K_m$ — «фильтры восприятия» системы
- Каждый $K_m$ соответствует частичному аспекту самонаблюдения
- Условие $\sum_m K_m^\dagger K_m = I$ гарантирует сохранение нормировки

:::info Совместимость с теоремой о запрете клонирования
Оператор φ **не нарушает** теорему о запрете клонирования (Wootters–Zurek, 1982). Ключевое различие:

- **Запрет клонирования** исключает существование унитарного оператора $U$, такого что $U|\psi\rangle|0\rangle = |\psi\rangle|\psi\rangle$ для произвольного $|\psi\rangle$. Клонирование — **точное унитарное копирование** неизвестного состояния.
- **Самомоделирование φ** — это CPTP-канал (представление Крауса), не унитарная операция. CPTP-каналы принципиально **необратимы**: они уменьшают различимость состояний ($F(\varphi(\rho), \varphi(\sigma)) \geq F(\rho, \sigma)$ по монотонности fidelity). Самомодель $\varphi(\Gamma)$ — **приближённая, огрублённая** проекция, не точная копия.

Формально: $\varphi(\Gamma) = \sum_m K_m \Gamma K_m^\dagger$ с $\sum_m K_m^\dagger K_m = I$ гарантирует $\mathrm{Tr}(\varphi(\Gamma)^2) \leq \mathrm{Tr}(\Gamma^2)$ — чистота самомодели **не превышает** чистоту оригинала. Это категориально отличается от клонирования, при котором $\mathrm{Tr}(\rho_{\text{clone}}^2) = \mathrm{Tr}(\rho^2)$.
:::

### 2.4 Параметризация через проекции

**Определение 2.5 (Проекционный оператор самомоделирования):**

Наиболее простая физически мотивированная форма:

$$
\varphi_{\text{proj}}(\Gamma) := \lambda \sum_i P_i \Gamma P_i + (1 - \lambda) \cdot \Gamma_{\text{prior}}
$$

где:
- $\{P_i\}$ — ортогональные проекторы, $\sum_i P_i = I$
- $\lambda \in [0, 1]$ — «глубина самонаблюдения»
- $\Gamma_{\text{prior}}$ — априорная модель (может быть $I/N$ или другой)

:::info Сохранение следа
При $\sum_i P_i = I$ и $\mathrm{Tr}(\Gamma_{\text{prior}}) = 1$:
$$
\mathrm{Tr}(\varphi_{\text{proj}}(\Gamma)) = \lambda \cdot 1 + (1 - \lambda) \cdot 1 = 1
$$
:::

**Для $\lambda = 1$:**

$$
\varphi_{\text{diag}}(\Gamma) := \sum_i P_i \Gamma P_i
$$

Это «декогерирующее самонаблюдение» — сохраняет диагональ в базисе $\{P_i\}$.

### 2.5 Сжимающий оператор самомоделирования

**Определение 2.6 (Сжимающий оператор):**

Для обеспечения существования неподвижной точки:

$$
\varphi_k(\Gamma) := k \cdot \mathcal{P}(\Gamma) + (1 - k) \cdot \Gamma_{\text{anchor}}
$$

где:
- $k \in [0, 1)$ — параметр сжатия
- $\mathcal{P}$ — любое CPTP-отображение
- $\Gamma_{\text{anchor}} \in \mathcal{D}(\mathcal{H})$ — фиксированная «якорная» точка (например, [максимально смешанное состояние](/docs/core/dynamics/coherence-matrix#максимально-смешанное-состояние) $I/N$)

**Лемма 2.1:** $\varphi_k$ — сжимающее отображение с константой $k$.

**Доказательство:**

$$
\|\varphi_k(\Gamma_1) - \varphi_k(\Gamma_2)\|_F = \|k \cdot \mathcal{P}(\Gamma_1) + (1-k) \cdot \Gamma_{\text{anchor}} - k \cdot \mathcal{P}(\Gamma_2) - (1-k) \cdot \Gamma_{\text{anchor}}\|_F
$$

$$
= k \cdot \|\mathcal{P}(\Gamma_1) - \mathcal{P}(\Gamma_2)\|_F \leq k \cdot \|\Gamma_1 - \Gamma_2\|_F
$$

(CPTP не увеличивает норму Фробениуса). ∎

### 2.6 Каноническая форма φ для УГМ

:::info Статус
Данный раздел определяет **каноническую конструкцию** оператора самомоделирования $\varphi$ для УГМ. Это конкретная спецификация, связывающая абстрактные определения выше с семимерной структурой [Голонома](/docs/core/structure/holon).
:::

**Определение 2.7 (Каноническая форма φ для УГМ):**

Каноническая форма оператора самомоделирования:

$$
\varphi_{\text{UHM}}(\Gamma) := k \cdot \mathcal{P}_{\text{pred}}(\Gamma) + (1 - k) \cdot \frac{I}{7}
$$

где:
- $k = 1 - \varepsilon$ для малого $\varepsilon > 0$ (типичное значение: $k = 0.95$)
- $\mathcal{P}_{\text{pred}}$ — предиктивный CPTP-канал (определён ниже)

**Определение 2.8 (Предиктивный CPTP-канал):**

$$
\mathcal{P}_{\text{pred}}(\Gamma) := \sum_{m=1}^{M} K_m \Gamma K_m^\dagger
$$

с операторами Крауса:

$$
K_m := P_m, \quad m = 1, \ldots, 7
$$

где $\{P_m\}$ — ортогональные проекторы на базисные состояния $\{|A\rangle, |S\rangle, |D\rangle, |L\rangle, |E\rangle, |O\rangle, |U\rangle\}$:

$$
P_m = |m\rangle\langle m|, \quad P_m^2 = P_m, \quad P_i P_j = \delta_{ij} P_i
$$

**Условие CPTP (проверка):**

$$
\sum_{m=1}^{7} K_m^\dagger K_m = \sum_{m=1}^{7} P_m = I \quad \checkmark
$$

:::warning О весах самонаблюдения
Веса $\{w_m\}$ реализуются НЕ через модификацию операторов Крауса, а через **взвешенную смесь** базовых каналов или через модификацию якорного состояния $\Gamma_{\text{anchor}}$. См. ниже.
:::

**Базовый предиктивный канал (декогеренция в базисе измерений):**

$$
\mathcal{P}_{\text{base}}(\Gamma) := \sum_{m=1}^{7} P_m \Gamma P_m = \text{diag}(\gamma_{AA}, \gamma_{SS}, \ldots, \gamma_{UU})
$$

Этот канал сохраняет диагональ и уничтожает когерентности.

**Определение 2.9 (Взвешенное самонаблюдение через якорь):**

Для моделирования различной «глубины самонаблюдения» по измерениям используется **взвешенный якорь**:

$$
\Gamma_{\text{anchor}}(w) := \sum_{m=1}^{7} w_m |m\rangle\langle m|, \quad w_m \geq 0, \quad \sum_m w_m = 1
$$

| Вес | Интерпретация |
|-----|---------------|
| $w_A$ | Внимание к различиям (Артикуляция) |
| $w_S$ | Осознание паттернов (Структура) |
| $w_D$ | Восприятие течения времени (Динамика) |
| $w_L$ | Логическая рефлексия (Логика) |
| $w_E$ | Феноменальное самоосознание (Интериорность) |
| $w_O$ | Связь с глубинным основанием (Основание) |
| $w_U$ | Интеграция в единое Я (Единство) |

**Специальный случай: равномерное самонаблюдение**

При $w_m = 1/7$ для всех $m$:

$$
\Gamma_{\text{anchor}} = \frac{I}{7}
$$

— максимально смешанное состояние.

**Определение 2.10 (E-акцентированное самонаблюдение):**

Для систем с сознательным опытом характерен акцент на измерение $E$:

$$
w_E = \alpha, \quad w_{m \neq E} = \frac{1 - \alpha}{6}, \quad \alpha \in [1/7, 1)
$$

При $\alpha \to 1$: якорь приближается к чистому состоянию $|E\rangle\langle E|$.

**Теорема 2.1 (Неподвижная точка канонической φ):**

Для $\varphi_{\text{UHM}}(\Gamma) = k \cdot \mathcal{P}_{\text{base}}(\Gamma) + (1 - k) \cdot \Gamma_{\text{anchor}}$ с $k < 1$ существует единственная неподвижная точка:

$$
\Gamma^* = \Gamma_{\text{anchor}}
$$

**Доказательство:**

$$
\varphi_{\text{UHM}}(\Gamma_{\text{anchor}}) = k \cdot \mathcal{P}_{\text{base}}(\Gamma_{\text{anchor}}) + (1 - k) \cdot \Gamma_{\text{anchor}}
$$

Поскольку $\Gamma_{\text{anchor}} = \sum_m w_m |m\rangle\langle m|$ — диагональная матрица:

$$
\mathcal{P}_{\text{base}}(\Gamma_{\text{anchor}}) = \sum_m P_m \Gamma_{\text{anchor}} P_m = \Gamma_{\text{anchor}}
$$

Следовательно:

$$
\varphi_{\text{UHM}}(\Gamma_{\text{anchor}}) = k \cdot \Gamma_{\text{anchor}} + (1 - k) \cdot \Gamma_{\text{anchor}} = \Gamma_{\text{anchor}} = \Gamma^*
$$

Единственность следует из сжимаемости при $k < 1$ (теорема Банаха). ∎

**Частный случай (равномерный якорь):**

При $w_m = 1/7$ для всех $m$: $\Gamma^* = I/7$ — максимально смешанное состояние.

**Следствие 2.1:** При равномерном якоре неподвижная точка $\Gamma^* = I/7$ — максимально смешанное состояние.

:::warning Критическое замечание: жизнеспособность неподвижной точки
Для равномерного якоря: $P(\Gamma^*) = P(I/7) = 1/7 \approx 0.143 < P_{\text{crit}} = 2/7 \approx 0.286$.

**Неподвижная точка равномерного самонаблюдения НЕ жизнеспособна!**

Это означает:
1. Идеальное равномерное самопознание **несовместимо** с жизнеспособностью
2. Живые системы находятся в **динамическом балансе** вдали от неподвижной точки
3. Регенерация $\mathcal{R}$ удерживает систему в области $\mathcal{V}$
:::

#### Определение 2.11 (Жизнеспособный якорь) {#жизнеспособный-якорь}

Для обеспечения жизнеспособной неподвижной точки якорь должен удовлетворять:

$$
P(\Gamma_{\text{anchor}}) > P_{\text{crit}} = \frac{2}{7}
$$

:::info Теорема (Каноничность E-акцентуации)
E-акцентированный якорь — **не произвольный выбор**, а **следствие** определения сознательности L2.
:::

**Теорема 2.2 (E-акцентуация из L2-определения):**

Пусть система удовлетворяет условию когнитивных квалиа (L2):
- $R \geq R_{th} = 1/3$ — рефлексия
- $\Phi \geq \Phi_{th} = 1$ — интеграция

Тогда её якорное состояние **необходимо** E-акцентировано:

$$
w_E > \frac{1}{7}
$$

**Доказательство:**

1. **Мера сознательности** $C = \Phi \times D_{diff} \times R$ требует $D_{diff} = \exp(S_{vN}(\rho_E))$ (дифференциация по E).

2. **Редуцированная матрица** $\rho_E = \mathrm{Tr}_{-E}(\Gamma)$ выделяет [измерение Интериорности](/docs/core/structure/dimension-e) как привилегированное.

3. **Для L2-систем:** Высокое $D_{diff}$ требует богатой структуры именно в $\mathcal{H}_E$.

4. **Следствие для якоря:** Самомодель сознательной системы неизбежно акцентирует E — измерение, через которое система **осознаёт себя**.

5. **Формально:** Минимизация $\|\Gamma - \varphi(\Gamma)\|_F$ при условии $C \geq C_{th}$ даёт:

$$
w_E^* = \arg\min_{w} \|\Gamma - \varphi_w(\Gamma)\|_F \quad \text{s.t.} \quad C(\varphi_w(\Gamma)) \geq C_{th}
$$

Решение: $w_E^* > 1/7$ при $C_{th} > 0$. ∎

**Следствие 2.2:** Равномерный якорь ($w_m = 1/7$) соответствует системам **без самосознания** (L0/L1), для которых вопрос жизнеспособности неподвижной точки не возникает — они не стремятся к φ(Γ).

**Каноническое значение α:**

Для систем на границе L2 ($R = R_{th}$, $\Phi = \Phi_{th}$):

$$
\alpha^* = 1 - \frac{6 \cdot P_{\text{crit}}}{7} = 1 - \frac{12}{49} \approx 0.755
$$

**Пример:** E-акцентированный якорь с $\alpha = 0.6$ (консервативная оценка):

$$
\Gamma_{\text{anchor}} = 0.6 |E\rangle\langle E| + 0.067 \sum_{m \neq E} |m\rangle\langle m|
$$

имеет $P = 0.36 + 6 \times 0.0045 = 0.387 > 2/7$. ✓

:::warning Физическая интерпретация
E-акцентуация — не «привилегия» измерения E, а **структурное следствие** того, что сознательные системы определяются через опыт. Несознательные системы (L0) не имеют этого ограничения — их якорь может быть равномерным, и вопрос $P(\Gamma^*) < P_{\text{crit}}$ для них не релевантен (см. [теорема о критической чистоте](/docs/proofs/dynamics/theorem-purity-critical)).
:::

:::warning Потенциальная цикличность
Выбор якоря зависит от уровня интериорности (L2), который определяется через R, который определяется через φ. Разрешение: конструкция сходится итеративно (начиная с произвольного начального якоря), но формальное доказательство сходимости — открытая задача.
:::

### 2.7 Спектральная формула для φ (явное вычисление)

:::info Ключевой результат
Данный раздел предоставляет **явную вычислимую формулу** для оператора $\varphi$ через спектральное разложение логического Лиувиллиана $\mathcal{L}_\Omega$. Это делает теорию полностью конструктивной.
:::

**Теорема 2.3 (Спектральная формула φ):**

$$
\varphi(\Gamma) = \sum_{k: \mathrm{Re}(\lambda_k) = 0} \langle L_k | \Gamma \rangle R_k
$$

где:
- $\{R_k, L_k\}$ — правые и левые собственные векторы $\mathcal{L}_\Omega$
- $\lambda_k$ — собственные значения $\mathcal{L}_\Omega$
- Сумма по $k$ с $\mathrm{Re}(\lambda_k) = 0$ (стационарные моды)
- $\langle L_k | \Gamma \rangle := \mathrm{Tr}(L_k^\dagger \cdot \Gamma_{\text{vec}})$ — скалярное произведение в векторизованном пространстве

**Доказательство:**

1. По определению (см. [Теорема: φ как стационарное распределение](#теорема-φ-как-стационарное-распределение)):
   $$\varphi(\Gamma) = \lim_{\tau \to \infty} e^{\tau \mathcal{L}_\Omega}[\Gamma]$$

2. Разложение по собственным функциям:
   $$e^{\tau \mathcal{L}_\Omega}[\Gamma] = \sum_k e^{\lambda_k \tau} \langle L_k | \Gamma \rangle R_k$$

3. При $\tau \to \infty$:
   - $\mathrm{Re}(\lambda_k) < 0$: $e^{\lambda_k \tau} \to 0$ (затухание)
   - $\mathrm{Re}(\lambda_k) > 0$: исключены CPTP-структурой (расходимость невозможна)
   - $\mathrm{Re}(\lambda_k) = 0$: $e^{\lambda_k \tau}$ ограничено (стационарные моды)

4. Следовательно:
   $$\varphi(\Gamma) = \sum_{k: \mathrm{Re}(\lambda_k) = 0} \langle L_k | \Gamma \rangle R_k \quad \blacksquare$$

:::tip Упрощение при примитивности линейной части [Т]
[Примитивность линейной части $\mathcal{L}_0$](/docs/core/operators/lindblad-operators#примитивность-ℒω) обеспечивает спектральную щель. В окрестности нетривиального аттрактора $\rho^*_\Omega$ формула упрощается до проекции на нулевой режим ($\lambda_0 = 0$, кратность 1):

$$
\varphi(\Gamma) = \langle L_0 | \Gamma \rangle \, R_0 = \mathrm{Tr}(L_0^\dagger\,\Gamma) \cdot \rho^*_\Omega
$$

где $R_0 = \rho^*_\Omega$ — стационарное состояние полной динамики (категориальная самомодель, [Определение 1](/docs/core/operators/phi-operator#определение)), $L_0$ — соответствующий левый собственный вектор.
:::

**Алгоритм вычисления φ (спектральный метод):**

```python
import numpy as np

def compute_phi_spectral(Gamma: np.ndarray, L_Omega: np.ndarray) -> np.ndarray:
    """
    Вычисление φ(Γ) через спектральное разложение логического Лиувиллиана.

    Args:
        Gamma: Матрица когерентности (7×7)
        L_Omega: Логический Лиувиллиан (49×49, vectorized)

    Returns:
        phi_Gamma: Самомодель (7×7)
    """
    # Спектральное разложение
    eigenvalues, R_vectors = np.linalg.eig(L_Omega)
    L_vectors = np.linalg.inv(R_vectors).T  # Левые собственные векторы

    # Векторизация Γ
    Gamma_vec = Gamma.flatten()

    # Сумма по стационарным модам (Re(λ) ≈ 0)
    phi_vec = np.zeros(49, dtype=complex)
    tolerance = 1e-10

    for k in range(49):
        if np.abs(eigenvalues[k].real) < tolerance:  # Re(λ) ≈ 0
            coeff = np.dot(L_vectors[:, k].conj(), Gamma_vec)
            phi_vec += coeff * R_vectors[:, k]

    # Reshape и нормализация
    phi_Gamma = phi_vec.reshape(7, 7)
    phi_Gamma = (phi_Gamma + phi_Gamma.conj().T) / 2  # Эрмитовость
    phi_Gamma /= np.trace(phi_Gamma)  # Нормировка Tr = 1

    return phi_Gamma.real
```

**Вычислительная сложность:**

| Операция | Сложность |
|----------|-----------|
| Спектральное разложение $\mathcal{L}_\Omega$ | $O(N^6)$ для $N=7$, т.е. $O(49^3) \approx 10^5$ |
| Проекция на стационарные моды | $O(N^4)$ |
| Общая сложность | $O(N^6)$, но $\mathcal{L}_\Omega$ вычисляется один раз |

**Связь со сжимающей формой:**

Спектральная формула эквивалентна каноническому определению при правильном выборе $\mathcal{L}_\Omega$. Преимущество спектральной формы:

1. **Явное вычисление** — не требует итераций
2. **Единственность** — нет зависимости от начального состояния
3. **Категорная согласованность** — соответствует левому сопряжённому к включению $\mathrm{Sub}(\Gamma)$

### 2.8 Рефлексия n-го порядка (для L3/L4)

:::info Расширение для пост-рефлексивных уровней
Для определения уровней L3 и L4 [иерархии интериорности](/docs/proofs/consciousness/interiority-hierarchy) требуется **итерированный** оператор φ.
:::

**Определение 2.12 (Итерированный оператор φ):**

$$
\varphi^{(n)}(\Gamma) := \underbrace{\varphi \circ \varphi \circ \cdots \circ \varphi}_{n}(\Gamma)
$$

с $\varphi^{(0)}(\Gamma) := \Gamma$.

**Определение 2.13 (Рефлексия n-го порядка):**

$$
R^{(n)}(\Gamma) := \mathrm{Fid}(\varphi^{(n-1)}(\Gamma), \varphi^{(n)}(\Gamma))
$$

где $\mathrm{Fid}(\rho_1, \rho_2) := |\mathrm{Tr}(\sqrt{\sqrt{\rho_1}\rho_2\sqrt{\rho_1}})|^2$ — fidelity (верность).

**Пороги для L3/L4:**

| Переход | Порог | Универсальная формула |
|---------|-------|----------------------|
| L1→L2 | $R^{(1)} \geq 1/3$ | $X^{(2)}_{\text{th}} = 1/3$ |
| L2→L3 | $R^{(2)} \geq 1/4$ | $X^{(3)}_{\text{th}} = 1/4$ |
| L3→L4 | $\lim_n R^{(n)} > 0$ | — |

**Алгоритм вычисления $R^{(2)}$:**

```python
def compute_R2(Gamma: np.ndarray, L_Omega: np.ndarray) -> float:
    """
    Вычисление рефлексии второго порядка R^(2).

    Returns:
        R2: fidelity между φ(Γ) и φ(φ(Γ))
    """
    phi_Gamma = compute_phi_spectral(Gamma, L_Omega)
    phi_phi_Gamma = compute_phi_spectral(phi_Gamma, L_Omega)

    # Fidelity: F(ρ₁, ρ₂) = |Tr(√(√ρ₁ ρ₂ √ρ₁))|²
    sqrt_phi = sqrtm(phi_Gamma)
    inner = sqrt_phi @ phi_phi_Gamma @ sqrt_phi
    F = np.abs(np.trace(sqrtm(inner)))**2

    return float(F)
```

---

## 3. Теорема о существовании неподвижной точки

### 3.1 Основная теорема

**Теорема 3.1 (Существование неподвижной точки рефлексии):**

Пусть $\varphi: \mathcal{D}(\mathcal{H}) \to \mathcal{D}(\mathcal{H})$ — сжимающее отображение с константой $k < 1$:

$$
\forall \Gamma_1, \Gamma_2 \in \mathcal{D}(\mathcal{H}): \|\varphi(\Gamma_1) - \varphi(\Gamma_2)\|_F \leq k \cdot \|\Gamma_1 - \Gamma_2\|_F
$$

Тогда:

$$
\exists! \, \Gamma^* \in \mathcal{D}(\mathcal{H}): \varphi(\Gamma^*) = \Gamma^*
$$

и для любого $\Gamma_0 \in \mathcal{D}(\mathcal{H})$:

$$
\lim_{n \to \infty} \varphi^n(\Gamma_0) = \Gamma^*
$$

со скоростью сходимости:

$$
\|\varphi^n(\Gamma_0) - \Gamma^*\|_F \leq k^n \cdot \|\Gamma_0 - \Gamma^*\|_F
$$

**Доказательство:**

**Шаг 1: Полнота пространства**

$\mathcal{D}(\mathcal{H})$ — замкнутое подмножество банахова пространства $(\mathcal{L}(\mathcal{H}), \|\cdot\|_F)$.

Проверим замкнутость:
- Предел последовательности эрмитовых матриц эрмитов
- Предел последовательности положительно полуопределённых матриц положительно полуопределён (замкнутый конус)
- $\mathrm{Tr}$ — непрерывная функция, $\mathrm{Tr}(\lim \rho_n) = \lim \mathrm{Tr}(\rho_n) = 1$

Следовательно, $\mathcal{D}(\mathcal{H})$ — полное метрическое пространство.

**Шаг 2: Применение теоремы Банаха**

$\varphi$ — сжимающее отображение на полном метрическом пространстве.

По теореме Банаха о неподвижной точке:
- Существует единственная неподвижная точка $\Gamma^*$
- Итерации сходятся к $\Gamma^*$ для любого начального условия

**Шаг 3: Сохранение структуры**

Покажем, что $\Gamma^* \in \mathcal{D}(\mathcal{H})$:

$\varphi: \mathcal{D}(\mathcal{H}) \to \mathcal{D}(\mathcal{H})$ (по построению $\varphi_k$ или как CPTP-отображение).

$\Gamma^* = \lim_{n \to \infty} \varphi^n(\Gamma_0)$, где $\Gamma_0 \in \mathcal{D}(\mathcal{H})$ и $\varphi^n(\Gamma_0) \in \mathcal{D}(\mathcal{H})$ для всех $n$.

$\mathcal{D}(\mathcal{H})$ замкнуто $\Rightarrow \Gamma^* \in \mathcal{D}(\mathcal{H})$. ∎

### 3.2 Приближённые неподвижные точки

**Определение 3.1 ($\varepsilon$-неподвижная точка):**

$\Gamma$ называется $\varepsilon$-неподвижной точкой, если $\|\Gamma - \varphi(\Gamma)\|_F < \varepsilon$.

**Теорема 3.2 (Существование $\varepsilon$-неподвижной точки для несжимающих $\varphi$):**

Пусть $\varphi: \mathcal{D}(\mathcal{H}) \to \mathcal{D}(\mathcal{H})$ — непрерывное отображение (не обязательно сжимающее).

Тогда для любого $\varepsilon > 0$ существует $\Gamma_\varepsilon \in \mathcal{D}(\mathcal{H})$ такое, что:

$$
\|\Gamma_\varepsilon - \varphi(\Gamma_\varepsilon)\|_F < \varepsilon
$$

**Доказательство:**

Рассмотрим семейство отображений:

$$
\varphi_\lambda(\Gamma) := \lambda \cdot \varphi(\Gamma) + (1 - \lambda) \cdot \Gamma_c
$$

где $\Gamma_c = I/N$ — центр $\mathcal{D}(\mathcal{H})$.

Для $\lambda < 1$: $\varphi_\lambda$ — сжимающее отображение с константой $\lambda$ (аналогично Лемме 2.1).

По Теореме 3.1: $\exists \, \Gamma^*_\lambda : \varphi_\lambda(\Gamma^*_\lambda) = \Gamma^*_\lambda$.

Рассмотрим:

$$
\|\Gamma^*_\lambda - \varphi(\Gamma^*_\lambda)\|_F = \|\Gamma^*_\lambda - \varphi_\lambda(\Gamma^*_\lambda) + \varphi_\lambda(\Gamma^*_\lambda) - \varphi(\Gamma^*_\lambda)\|_F
$$

$$
= \|\varphi_\lambda(\Gamma^*_\lambda) - \varphi(\Gamma^*_\lambda)\|_F \quad (\Gamma^*_\lambda \text{ — неподвижная точка } \varphi_\lambda)
$$

$$
= \|\lambda \cdot \varphi(\Gamma^*_\lambda) + (1-\lambda) \cdot \Gamma_c - \varphi(\Gamma^*_\lambda)\|_F = (1-\lambda) \cdot \|\Gamma_c - \varphi(\Gamma^*_\lambda)\|_F
$$

$$
\leq (1-\lambda) \cdot \mathrm{diam}(\mathcal{D}(\mathcal{H}))
$$

где $\mathrm{diam}(\mathcal{D}(\mathcal{H})) = \sup_{\rho_1, \rho_2} \|\rho_1 - \rho_2\|_F \leq \sqrt{2}$ (диаметр пространства матриц плотности).

Выбрав $\lambda = 1 - \varepsilon / (2 \cdot \mathrm{diam}(\mathcal{D}(\mathcal{H})))$, получаем:

$$
\|\Gamma^*_\lambda - \varphi(\Gamma^*_\lambda)\|_F < \varepsilon
$$
∎

### 3.3 Условия сжатия для CPTP-отображений

**Теорема 3.3 (Критерий сжатия):**

CPTP-отображение $\mathcal{P}$ является сжимающим с константой $k < 1$ тогда и только тогда, когда:

$$
\exists \, \rho_{\text{inv}} \in \mathcal{D}(\mathcal{H}) : \mathcal{P}(\rho_{\text{inv}}) = \rho_{\text{inv}} \land \mathrm{spec}(\mathcal{P}|_{\rho_{\text{inv}}^\perp}) \subset \{z \in \mathbb{C} : |z| < 1\}
$$

где $\mathcal{P}|_{\rho_{\text{inv}}^\perp}$ — ограничение $\mathcal{P}$ на ортогональное дополнение к $\rho_{\text{inv}}$.

**Интерпретация:** $\mathcal{P}$ сжимающее, если имеет единственное инвариантное состояние и все возмущения затухают.

**Примеры сжимающих CPTP:**

1. **Термализация:**

$$
\mathcal{P}_{\text{therm}}(\rho) = \lambda \rho + (1-\lambda) \rho_{\text{thermal}}, \quad \lambda < 1
$$

2. **Деполяризующий канал:**

$$
\mathcal{P}_{\text{depol}}(\rho) = p \rho + (1-p) \frac{I}{N}, \quad p < 1
$$

3. **Амплитудное затухание:**

$$
\mathcal{P}_{\text{damp}}(\rho) = K_0 \rho K_0^\dagger + K_1 \rho K_1^\dagger
$$

$$
K_0 = |0\rangle\langle 0| + \sqrt{1-\gamma}|1\rangle\langle 1|, \quad K_1 = \sqrt{\gamma}|0\rangle\langle 1|
$$

Сжимающее для $\gamma > 0$.

---

## 4. Связь с мерой рефлексии R

### 4.1 Определение R

**Определение 4.1 ([Мера рефлексии](/docs/consciousness/foundations/self-observation#мера-рефлексии-r)):**

$$
R(\Gamma) := 1 - \frac{\|\Gamma - \varphi(\Gamma)\|^2_F}{\|\Gamma\|^2_F}
$$

где $\|\Gamma\|_F = \sqrt{\mathrm{Tr}(\Gamma^2)} = \sqrt{P}$ (корень из [чистоты](/docs/core/dynamics/viability#определение-чистоты)).

### 4.2 Сходимость R при приближении к неподвижной точке

**Теорема 4.1 ($R \to 1$ при $\Gamma \to \Gamma^*$):**

Пусть $\varphi$ — сжимающее отображение с неподвижной точкой $\Gamma^*$.

Тогда:

$$
\lim_{\Gamma \to \Gamma^*} R(\Gamma) = 1
$$

**Доказательство:**

При $\Gamma \to \Gamma^*$:

$$
\|\Gamma - \varphi(\Gamma)\|_F \to \|\Gamma^* - \varphi(\Gamma^*)\|_F = \|\Gamma^* - \Gamma^*\|_F = 0
$$

Следовательно:

$$
R(\Gamma) = 1 - \frac{\|\Gamma - \varphi(\Gamma)\|^2_F}{\|\Gamma\|^2_F} \to 1 - \frac{0}{\|\Gamma^*\|^2_F} = 1
$$

(Предполагаем $\Gamma^* \neq 0$, что выполнено для любой матрицы плотности: $\|\Gamma^*\|^2_F = P(\Gamma^*) \geq 1/N > 0$.) ∎

### 4.3 Оценка скорости сходимости R

**Теорема 4.2 (Скорость сходимости R):**

Для сжимающего $\varphi$ с константой $k$ и последовательности $\Gamma_n = \varphi^n(\Gamma_0)$:

$$
1 - R(\Gamma_n) \leq k^{2n} \cdot \frac{\|\Gamma_0 - \Gamma^*\|^2_F}{P_{\min}}
$$

где $P_{\min} = \min_{\rho \in \mathcal{D}(\mathcal{H})} P(\rho) = 1/N$.

**Доказательство:**

$$
1 - R(\Gamma_n) = \frac{\|\Gamma_n - \varphi(\Gamma_n)\|^2_F}{\|\Gamma_n\|^2_F} = \frac{\|\varphi^n(\Gamma_0) - \varphi^{n+1}(\Gamma_0)\|^2_F}{P(\Gamma_n)}
$$

$$
\leq \frac{(k^n \cdot \|\Gamma_0 - \varphi(\Gamma_0)\|_F)^2}{P(\Gamma_n)} \quad \text{(сжатие)}
$$

$$
\leq \frac{k^{2n} \cdot (\|\Gamma_0 - \Gamma^*\|_F + \|\Gamma^* - \varphi(\Gamma_0)\|_F)^2}{P_{\min}}
$$

$$
\leq \frac{k^{2n} \cdot (\|\Gamma_0 - \Gamma^*\|_F + k \cdot \|\Gamma^* - \Gamma_0\|_F)^2}{P_{\min}} = \frac{k^{2n} \cdot (1 + k)^2 \cdot \|\Gamma_0 - \Gamma^*\|^2_F}{P_{\min}}
$$

Для $k < 1$: $(1 + k)^2 < 4$, что даёт оценку:

$$
1 - R(\Gamma_n) \leq \frac{4 \cdot k^{2n} \cdot \|\Gamma_0 - \Gamma^*\|^2_F}{P_{\min}}
$$
∎

:::tip Усиление: безусловная сходимость [Т]
[Примитивность $\mathcal{L}_\Omega$](/docs/core/operators/lindblad-operators#примитивность-ℒω) гарантирует экспоненциальную сходимость $R \to 1$ при **любом** начальном состоянии $\Gamma_0 \in \mathcal{D}(\mathbb{C}^7)$, без дополнительных условий на начальные данные.
:::

### 4.4 Связь R с сознательностью C

**Теорема 4.3 (R как множитель сознательности):**

Из определения [сознательности](/docs/consciousness/foundations/self-observation#мера-сознательности-c) $C = \Phi \times D_{\text{diff}} \times R$ следует:

$$
C(\Gamma^*) = \Phi(\Gamma^*) \times D_{\text{diff}}(\Gamma^*) \times 1 = \Phi(\Gamma^*) \times D_{\text{diff}}(\Gamma^*)
$$

для неподвижной точки $\Gamma^*$.

:::note О нотации
$D_{\text{diff}}$ — мера **дифференциации**. Не путать с измерением **Динамики** $D$.
:::

**Следствие:** Идеальное самопознание ($\Gamma = \Gamma^*$) максимизирует вклад рефлексии в сознательность.

---

## 5. Категорный аспект

:::info Статус раздела
Категорный формализм предоставляет дополнительную структуру для понимания $\varphi$, но не является необходимым для практических вычислений в УГМ. См. также [категорный формализм](/docs/proofs/categorical/categorical-formalism).
:::

### 5.1 Категория матриц плотности

:::info DRY: Категория DensityMat
Каноническое определение категории **DensityMat** (объекты — матрицы плотности, морфизмы — CPTP-каналы) и доказательство аксиом категории см. в [Категорный формализм, §1](/docs/proofs/categorical/categorical-formalism#1-категория-densitymat).
:::

**Определение 5.2 (Категория CPTP-каналов):**

$$
\mathbf{CPTP} := (\mathrm{Ob}, \mathrm{Mor})
$$

$$
\mathrm{Ob} = \{\mathcal{H}_n = \mathbb{C}^n : n \in \mathbb{N}\} \quad \text{(объекты — гильбертовы пространства)}
$$

$$
\mathrm{Mor}(\mathcal{H}_n, \mathcal{H}_m) = \{\mathcal{P}: \mathcal{D}(\mathcal{H}_n) \to \mathcal{D}(\mathcal{H}_m) : \mathcal{P} \text{ — CPTP}\}
$$

Это хорошо определённая категория:
- Композиция: $\mathcal{P} \circ \mathcal{Q}$ — CPTP, если $\mathcal{P}$ и $\mathcal{Q}$ — CPTP
- Тождество: $\mathrm{id}_\mathcal{H}(\rho) = \rho$ — тривиальный CPTP-канал

### 5.2 φ как эндоморфизм

**Определение 5.3 ($\varphi$ как эндофунктор):**

$\varphi: \mathcal{L}(\mathcal{H}) \to \mathcal{L}(\mathcal{H})$ индуцирует эндофунктор:

$$
F_\varphi: \mathbf{CPTP}|_\mathcal{H} \to \mathbf{CPTP}|_\mathcal{H}
$$

На объектах: $F_\varphi(\mathcal{H}) = \mathcal{H}$ (тождественно)

На морфизмах: $F_\varphi(\mathcal{Q}) = \varphi \circ \mathcal{Q} \circ \varphi^{-1}$ (если $\varphi$ обратим)

**Проблема:** Общий CPTP-канал не обратим.

**Решение:** Рассматриваем $\varphi$ как эндоморфизм в категории с единственным объектом:

**Определение 5.4 (Моноид CPTP-каналов):**

$$
\mathrm{End}(\mathcal{H}) := \mathrm{Mor}(\mathcal{H}, \mathcal{H}) \quad \text{в категории } \mathbf{CPTP}
$$

Это моноид с операцией композиции.

$\varphi \in \mathrm{End}(\mathcal{H})$ — элемент этого моноида.

### 5.3 Связь с монадами

**Определение 5.5 (Монада самомоделирования):**

Рассмотрим функтор $T: \mathbf{Set} \to \mathbf{Set}$:

$$
T(X) = \mathcal{D}(\mathbb{C}^{|X|}) \quad \text{(множество матриц плотности размера } |X| \text{)}
$$

Структура монады:
- **Unit ($\eta$):** $\eta_X: X \to T(X)$, $\eta_X(x) = |x\rangle\langle x|$ (чистое состояние)
- **Mult ($\mu$):** $\mu_X: T(T(X)) \to T(X)$, $\mu_X(P) = \sum_{\rho \in \mathrm{supp}(P)} P(\rho) \cdot \rho$ (смешивание)

$\varphi$ индуцирует морфизм монад:

$$
\varphi^*: (T, \eta, \mu) \to (T, \eta, \mu)
$$

Условия естественности:

$$
\varphi \circ \eta = \eta \quad \text{(самонаблюдение чистого состояния — чистое)}
$$

$$
\varphi \circ \mu = \mu \circ T(\varphi) \quad \text{(согласованность со смешиванием)}
$$

**Теорема 5.1 (Неподвижная точка как алгебра монады):**

Неподвижная точка $\Gamma^* = \varphi(\Gamma^*)$ определяет $T$-алгебру:

$$
\alpha: T(\Gamma^*) \to \Gamma^*, \quad \alpha = \mu_{\Gamma^*} \circ T(\eta_{\Gamma^*})
$$

**Интерпретация:** Система в состоянии идеального самопознания — это «алгебра над монадой самомоделирования».

### 5.4 2-категорная структура

**Определение 5.6 (2-категория квантовых систем QSys):**

| Уровень | Элементы |
|---------|----------|
| 0-морфизмы (объекты) | Гильбертовы пространства $\mathcal{H}$ |
| 1-морфизмы | CPTP-каналы $\mathcal{P}: \mathcal{D}(\mathcal{H}_1) \to \mathcal{D}(\mathcal{H}_2)$ |
| 2-морфизмы | Естественные преобразования между каналами |

$\varphi$ определяет 2-ячейку:

$$
\varphi: \mathrm{id}_{\mathcal{D}(\mathcal{H})} \Rightarrow \mathrm{id}_{\mathcal{D}(\mathcal{H})}
$$

(эндо-2-морфизм тождественного 1-морфизма)

**Условие неподвижной точки в 2-категорном языке:**

$\Gamma^*$ — объект такой, что $\varphi_{\Gamma^*} = \mathrm{id}_{\Gamma^*}$ (2-морфизм редуцируется к тождеству).

---

## 6. Следствия и ограничения

### 6.1 Следствия формализации

**Следствие 6.1 (Необходимость сжатия для идеального самопознания):**

Для существования точного $\Gamma^* = \varphi(\Gamma^*)$ необходимо, чтобы $\varphi$ было сжимающим (или имело инвариантное подпространство).

**Следствие 6.2 (Приближённое самопознание всегда возможно):**

Для любого непрерывного $\varphi$ и любого $\varepsilon > 0$ существует $\varepsilon$-неподвижная точка.

**Следствие 6.3 (Связь с термодинамикой):**

Сжимающие CPTP-каналы соответствуют системам с [диссипацией](/docs/core/dynamics/evolution#логический-лиувиллиан) (притяжение к равновесию).

Неподвижная точка $\varphi$ — это «термодинамическое равновесие самонаблюдения».

### 6.2 Ограничения формализации

**Ограничение 6.1 (Требование сжатия):**

Теорема 3.1 требует $k < 1$. Для $k = 1$ (изометрические $\varphi$) неподвижная точка может не существовать или быть неединственной.

**Ограничение 6.2 (Конечномерность):**

Доказательства используют конечномерность $\mathcal{H}$. Обобщение на бесконечномерный случай требует дополнительных условий (компактность $\varphi$).

**Ограничение 6.3 (Статичность):**

Формализация рассматривает $\varphi$ как фиксированный оператор. В динамической системе $\varphi$ может зависеть от времени: $\varphi = \varphi(t)$.

**Открытый вопрос:** Существует ли «движущаяся неподвижная точка» $\Gamma^*(t)$ для $\varphi(t)$? См. Приложение C.

### 6.3 Физическая интерпретация

**Интерпретация 6.1 (Самомоделирование как квантовый канал):**

$\varphi$ = CPTP-канал означает, что самонаблюдение:
- Сохраняет позитивность (не создаёт отрицательных вероятностей)
- Сохраняет нормировку (полная вероятность = 1)
- Может уменьшать информацию (не увеличивает различимость)

**Интерпретация 6.2 (Неподвижная точка как самосогласованность):**

$\Gamma^* = \varphi(\Gamma^*)$ означает: «То, что система видит, совпадает с тем, что она есть.»

Это состояние идеального самопознания — система не имеет «слепых пятен».

**Интерпретация 6.3 (Сжатие как смирение):**

$k < 1$ означает, что каждый акт самонаблюдения «приближает» к истине.

Система постепенно корректирует свою модель себя, сходясь к точному представлению.

### 6.4 Связь с УГМ

**Связь 6.1 (Рефлексивное замыкание):**

Условие [самонаблюдения](/docs/consciousness/foundations/self-observation):

$$
\varphi(\Gamma) \approx \Gamma
$$

Формализуется как: $R(\Gamma) \geq 1 - \varepsilon$ для некоторого $\varepsilon > 0$.

**Связь 6.2 (Сознательность):**

$C = \Phi \times D_{\text{diff}} \times R$ включает $R$ как множитель.

При $R \to 1$: $C \to \Phi \times D_{\text{diff}}$ (максимальный вклад интеграции и дифференциации).

**Связь 6.3 (Теорема об отсутствии зомби):**

Из [иерархии интериорности](/docs/proofs/consciousness/interiority-hierarchy#34-теорема-о-жизнеспособности-no-zombie-theorem):

$$
\mathrm{Viable}(\mathbb{H}) \Rightarrow R(\Gamma) > 0
$$

Формализация $\varphi$ обеспечивает: $R(\Gamma) > 0 \Leftrightarrow \Gamma \neq \varphi(\Gamma)$ с конечной точностью.

---

## 7. Требования к реализации

:::info Статус раздела
Данный раздел содержит **математические требования** к реализации оператора самомоделирования φ. Конкретные архитектуры и код — предмет отдельных спецификаций.
:::

### 7.1 Требования к реализации φ

**Требование 7.1 (Предиктивный оператор самомоделирования):**

Реализация $\varphi$ должна удовлетворять:

$$
\varphi(\Gamma) = k \cdot \mathcal{P}_\theta(\Gamma) + (1-k) \cdot \Gamma_{\text{prior}}
$$

где:
- $k \in (0, 1)$ — параметр сжатия, обеспечивающий контрактивность
- $\mathcal{P}_\theta: \mathcal{D}(\mathcal{H}) \to \mathcal{D}(\mathcal{H})$ — параметризованное отображение
- $\Gamma_{\text{prior}} = I/7$ — априорное состояние (максимальная энтропия)

**Гарантии реализации:**
1. Выход — валидная матрица плотности (эрмитова, PSD, trace=1)
2. Сжимающее отображение при $k < 1$
3. Дифференцируемость по параметрам $\theta$

**Рекомендуемый метод:** Cholesky-параметризация $\Gamma = LL^\dagger / \mathrm{Tr}(LL^\dagger)$ гарантирует PSD.

### 7.2 Требования к сенсорному энкодеру

**Требование 7.2 (Encoder: sensors → Γ):**

$$
\Gamma = \text{Encoder}_\psi(s) = \frac{L(s) \cdot L(s)^\dagger}{\mathrm{Tr}(L(s) \cdot L(s)^\dagger)}
$$

где $L(s)$ — нижнетреугольная матрица, параметризованная от сенсорного входа $s$.

### 7.3 Требования к декодеру действий

**Требование 7.3 (Decoder: Γ → actions):**

Для дискретных действий:
$$
\pi(a|\Gamma) = \text{softmax}(W \cdot \text{vec}(\Gamma) + b)
$$

Для непрерывных действий:
$$
\mu, \sigma = \text{Decoder}(\Gamma), \quad a \sim \mathcal{N}(\mu, \sigma^2)
$$

### 7.4 Обучение

Минимизация ошибки самопредсказания:

$$
\mathcal{L}(\theta) = \mathbb{E}_{\Gamma \sim \text{trajectories}}[\|\Gamma_{t+1} - \mathcal{P}_\theta(\Gamma_t)\|_F^2]
$$

:::note Статус реализации
Требования в данном разделе достаточны для построения конкретной реализации. Cholesky-параметризация гарантирует корректность выходных матриц плотности.
:::

---

## 8. Операциональный алгоритм для φ {#операциональный-алгоритм}

:::info Статус: Инженерная спецификация
Данный раздел предоставляет **конкретный алгоритм** для вычисления оператора самомоделирования φ, пригодный для программной реализации.
:::

### 8.1 Алгоритм: Базовое самомоделирование

**Вход:** Матрица когерентности $\Gamma \in \mathbb{C}^{7 \times 7}$

**Параметры:**
- $k \in (0, 1)$ — коэффициент сжатия (рекомендуется $k = 0.95$)
- $w \in \Delta^6$ — вектор весов якоря (по умолчанию $w = (1/7, \ldots, 1/7)$)

**Алгоритм:**

```
FUNCTION φ_basic(Γ, k, w):
    # Шаг 1: Извлечь диагональ (декогеренция в базисе измерений)
    diag_Γ := diagonal(Γ)  # вектор размера 7

    # Шаг 2: Построить предиктивное состояние
    P_pred := diag(diag_Γ)  # диагональная матрица 7×7

    # Шаг 3: Построить якорное состояние
    Γ_anchor := diag(w)

    # Шаг 4: Смешать с коэффициентом сжатия
    φ_Γ := k * P_pred + (1 - k) * Γ_anchor

    RETURN φ_Γ
```

**Гарантии:**
- Выход — валидная матрица плотности (эрмитова, PSD, trace=1)
- Сжимающее отображение с константой $k$
- Вычислительная сложность: $O(N)$ где $N = 7$

### 8.2 Алгоритм: Нейросетевое самомоделирование

Для обучаемого φ с параметрами θ:

```
FUNCTION φ_neural(Γ, θ):
    # Шаг 1: Векторизовать входную матрицу
    x := flatten_upper_triangular(Γ)  # 28 параметров (7 диаг + 21 когер)

    # Шаг 2: Пропустить через нейросеть
    h := ReLU(W₁ · x + b₁)
    L_vec := W₂ · h + b₂  # 28 параметров для нижнетреугольной матрицы

    # Шаг 3: Восстановить нижнетреугольную матрицу (Cholesky)
    L := unflatten_lower_triangular(L_vec)  # 7×7

    # Шаг 4: Построить PSD матрицу и нормировать
    Γ_raw := L · L†
    φ_Γ := Γ_raw / Tr(Γ_raw)

    # Шаг 5: Применить сжатие к якорю
    k := sigmoid(θ_k)  # обучаемый коэффициент ∈ (0, 1)
    φ_Γ := k * φ_Γ + (1 - k) * I/7

    RETURN φ_Γ
```

**Обучение:** Минимизировать ошибку предсказания следующего состояния:

$$
\mathcal{L}(\theta) = \mathbb{E}_{(\Gamma_t, \Gamma_{t+1}) \sim \tau}[\|\Gamma_{t+1} - \varphi_\theta(\Gamma_t)\|_F^2]
$$

### 8.3 Вычисление меры рефлексии R

```
FUNCTION compute_R(Γ, φ):
    # Вычислить самомодель
    φ_Γ := φ(Γ)

    # Вычислить ошибку самомоделирования
    error := Γ - φ_Γ
    error_norm_sq := Tr(error† · error)

    # Вычислить норму Γ
    Γ_norm_sq := Tr(Γ† · Γ)  # = P (чистота)

    # Вычислить R
    R := 1 - error_norm_sq / Γ_norm_sq

    RETURN R
```

### 8.4 Проверка порога L2

:::warning Ограничение 7D-формализма
Функция `Tr_not_E` (частичный след) требует тензорной структуры. В минимальном 7D-формализме ($\mathcal{H} = \mathbb{C}^7$) используйте `is_L2_minimal` без $D_{\text{diff}}$ — см. [dimension-e.md](/docs/core/structure/dimension-e#tensor-factorization-ddiff).
:::

```
FUNCTION is_L2_conscious(Γ, φ):
    # Вычислить три меры
    R := compute_R(Γ, φ)
    Φ := compute_integration(Γ)  # Σ|γ_ij|² / Σγ_ii²
    D_diff := exp(von_neumann_entropy(Tr_not_E(Γ)))

    # Проверить пороги
    RETURN (R ≥ 1/3) AND (Φ ≥ 1) AND (D_diff ≥ 2)

# Минимальная версия без D_diff (для 7D-формализма)
FUNCTION is_L2_minimal(Γ, φ):
    R := compute_R(Γ, φ)
    Φ := compute_integration(Γ)
    RETURN (R ≥ 1/3) AND (Φ ≥ 1)
```

---

## 9. Связь с механизмом регенерации {#связь-с-регенерацией}

:::info Ключевая связь
Оператор самомоделирования $\varphi$ определяет целевое состояние регенерации: $\rho_* = \varphi(\Gamma)$ — категориальная самомодель текущего состояния [Т] ([оператор φ](/docs/core/operators/phi-operator)). Для каждого $\Gamma$ самомодель $\varphi(\Gamma)$ единственна (CPTP-канал).
:::

### 9.1 Регенерация как стремление к самомодели

[Регенеративный член](/docs/core/dynamics/evolution#3-регенеративный-член) уравнения эволюции $\Gamma$ **полностью выведен** из аксиом [Т]:

$$
\mathcal{R}[\Gamma, E] = \kappa(\Gamma) \cdot (\rho_* - \Gamma) \cdot \Theta(\Delta F)
$$

где:
- $\kappa(\Gamma)$ — [коэффициент регенерации](/docs/core/foundations/axiom-septicity#категориальный-вывод-kappa0) [Т] (категориальный вывод из сопряжения)
- $\rho_* = \varphi(\Gamma)$ — категориальная самомодель текущего состояния [Т] ([оператор φ](/docs/core/operators/phi-operator))
- $(\rho_* - \Gamma)$ — единственная CPTP-релаксация [Т] (замещающий канал + бюресова оптимальность)
- $\Theta(\Delta F)$ — термодинамический затвор [Т] (принцип Ландауэра)

Полный вывод: [Эволюция → Вывод формы регенерации](/docs/core/dynamics/evolution#вывод-формы-регенерации).

**Интерпретация:** Система регенерирует, стремясь к состоянию $\varphi(\Gamma)$ — тому, каким она «видит себя». Регенерация — это **активный процесс самореализации**, где система становится своей собственной моделью.

### 9.2 Неподвижная точка и жизнеспособное равновесие

**Теорема 9.1 (Равновесие регенерации):**

При $\Gamma = \Gamma^* = \varphi(\Gamma^*)$ регенеративный член обращается в ноль:

$$
\mathcal{R}[\Gamma^*, E] = \kappa(\Gamma^*) \cdot (\varphi(\Gamma^*) - \Gamma^*) \cdot \Theta(\Delta F) = 0
$$

**Доказательство:** $\varphi(\Gamma^*) = \Gamma^*$ по определению неподвижной точки. ∎

**Следствие 9.1:** В неподвижной точке $\Gamma^*$ система находится в состоянии **идеального самопознания** — регенерация не требуется, так как текущее состояние совпадает с самомоделью.

### 9.3 Динамика вне неподвижной точки

При $\Gamma \neq \Gamma^*$ возникает «тяга» к самомодели:

$$
\rho_* - \Gamma = \varphi(\Gamma) - \Gamma \neq 0
$$

**Направление регенерации:**

1. Если $P(\varphi(\Gamma)) > P(\Gamma)$: регенерация **увеличивает** чистоту
2. Если $P(\varphi(\Gamma)) < P(\Gamma)$: регенерация **уменьшает** чистоту

:::warning Критическое условие: жизнеспособность самомодели
Для того чтобы регенерация поддерживала жизнеспособность, необходимо:

$$
P(\varphi(\Gamma)) \geq P_{\text{crit}} = \frac{2}{7}
$$

При неправильно сконструированном $\varphi$ система может регенерировать **к нежизнеспособному состоянию**. Это накладывает ограничения на выбор якоря $\Gamma_{\text{anchor}}$ (см. [Определение 2.11](#жизнеспособный-якорь)).
:::

### 9.4 Связь с мерой рефлексии R

[Мера рефлексии](/docs/consciousness/foundations/self-observation#мера-рефлексии-r) $R$ и регенеративный член $\mathcal{R}$ связаны:

$$
1 - R(\Gamma) = \frac{\|\Gamma - \varphi(\Gamma)\|^2_F}{P(\Gamma)}
$$

$$
\|\mathcal{R}[\Gamma, E]\| \propto \|\rho_* - \Gamma\| = \|\varphi(\Gamma) - \Gamma\| = \sqrt{P \cdot (1 - R)}
$$

**Интерпретация:**
- Высокое $R$ (близость к самомодели) → малая амплитуда регенерации
- Низкое $R$ (расхождение с самомоделью) → большая амплитуда регенерации

Система с хорошим самопознанием ($R \to 1$) требует минимальной регенерации.

### 9.5 Устойчивость жизнеспособной области

**Теорема 9.2 (Регенерация удерживает в $\mathcal{V}$):**

Пусть $\varphi$ — сжимающее отображение с неподвижной точкой $\Gamma^* \in \mathcal{V}$ ([жизнеспособная область](/docs/core/dynamics/viability#область-жизнеспособности)).

Тогда при достаточно большом $\kappa$ регенерация противодействует диссипации и удерживает систему в $\mathcal{V}$:

$$
\left.\frac{dP}{d\tau}\right|_{\mathcal{R}} + \left.\frac{dP}{d\tau}\right|_{\mathcal{D}} > 0 \quad \text{при } P < P(\Gamma^*)
$$

**Интерпретация:** Регенерация — это **защитный механизм**, использующий самомодель как ориентир для восстановления когерентности.

### 9.6 Сохранение положительности при регенерации

:::info Теорема (CPTP-структура регенерации)
Регенеративный оператор $R_\alpha = (1 - \alpha) \cdot \mathcal{E} + \alpha \cdot \varphi$ с $\alpha = \kappa \cdot \Delta\tau < 1$ является **CPTP-каналом**:

$$
R_\alpha[\Gamma] = \sum_k \tilde{K}_k \Gamma \tilde{K}_k^\dagger
$$

с операторами Крауса $\tilde{K}_0 = \sqrt{1-\alpha}\,I$ и $\tilde{K}_k = \sqrt{\alpha} K_k$ (от аттрактора $\varphi$).
:::

**Следствие:** Регенерация к самомодели $\varphi(\Gamma)$ **гарантирует** сохранение:
- Положительности: $\Gamma \geq 0$
- Нормировки: $\mathrm{Tr}(\Gamma) = 1$

[Подробнее о CPTP-структуре регенерации →](/docs/core/dynamics/evolution#сохранение-положительности)

---

## Приложение A: Примеры вычислений

### A.1 Деполяризующий канал как φ

$$
\varphi_p(\rho) = p \cdot \rho + (1 - p) \cdot \frac{I}{N}
$$

**Неподвижная точка:**

$$
\Gamma^* = p \cdot \Gamma^* + (1 - p) \cdot \frac{I}{N}
$$

$$
(1 - p) \cdot \Gamma^* = (1 - p) \cdot \frac{I}{N} \quad \Rightarrow \quad \Gamma^* = \frac{I}{N}
$$

**Константа сжатия:** $k = p < 1$

**Мера рефлексии в неподвижной точке:**

$$
R(\Gamma^*) = R\left(\frac{I}{N}\right) = 1 - \frac{\|I/N - \varphi(I/N)\|^2_F}{\|I/N\|^2_F} = 1 - \frac{0}{1/N} = 1
$$

### A.2 Проекционное самонаблюдение

Пусть $\{|i\rangle\}$ — ортонормированный базис, $P_i = |i\rangle\langle i|$.

$$
\varphi_{\text{diag}}(\rho) = \sum_i P_i \rho P_i = \sum_i \rho_{ii} |i\rangle\langle i|
$$

(Диагонализация в заданном базисе)

**Неподвижные точки:**

$$
\varphi_{\text{diag}}(\Gamma) = \Gamma \quad \Leftrightarrow \quad \Gamma \text{ диагональна}
$$

Множество неподвижных точек — $(N-1)$-мерный симплекс:

$$
\mathrm{Fix}(\varphi_{\text{diag}}) = \left\{\sum_i p_i |i\rangle\langle i| : p_i \geq 0, \sum_i p_i = 1\right\} \cong \Delta^{N-1}
$$

где $N = \dim(\mathcal{H}) = 7$ для [Голонома](/docs/core/structure/holon).

**Замечание:** Это не сжимающее отображение ($k = 1$ на множестве неподвижных точек).

---

## Приложение B: Доказательство CPTP-сохранения структуры

**Лемма B.1:** Если $\mathcal{P}$ — CPTP и $\rho \in \mathcal{D}(\mathcal{H})$, то $\mathcal{P}(\rho) \in \mathcal{D}(\mathcal{H})$.

**Доказательство:**

1. **Эрмитовость:**

$$
\mathcal{P}(\rho)^\dagger = \left(\sum_m K_m \rho K_m^\dagger\right)^\dagger = \sum_m K_m \rho^\dagger K_m^\dagger = \sum_m K_m \rho K_m^\dagger = \mathcal{P}(\rho)
$$

2. **Положительность:**

Для любого $|\psi\rangle$:

$$
\langle\psi|\mathcal{P}(\rho)|\psi\rangle = \sum_m \langle\psi|K_m \rho K_m^\dagger|\psi\rangle = \sum_m \langle K_m^\dagger\psi|\rho|K_m^\dagger\psi\rangle \geq 0
$$

(так как $\rho \geq 0$)

3. **Нормировка:**

$$
\mathrm{Tr}(\mathcal{P}(\rho)) = \mathrm{Tr}\left(\sum_m K_m \rho K_m^\dagger\right) = \sum_m \mathrm{Tr}(K_m^\dagger K_m \rho) = \mathrm{Tr}\left(\left(\sum_m K_m^\dagger K_m\right) \rho\right) = \mathrm{Tr}(I \cdot \rho) = 1
$$
∎

---

## Приложение C: Обобщение на зависящий от времени φ

**Определение C.1 (Динамический оператор самомоделирования):**

$$
\varphi: [0, \infty) \times \mathcal{D}(\mathcal{H}) \to \mathcal{D}(\mathcal{H})
$$

$$
(\tau, \Gamma) \mapsto \varphi(\tau, \Gamma)
$$

**Уравнение динамической неподвижной точки:**

$$
\Gamma^*(\tau) = \varphi(\tau, \Gamma^*(\tau))
$$

**Теорема C.1 (Существование динамической неподвижной точки):**

Если $\varphi(\tau, \cdot)$ сжимающее с константой $k < 1$ для всех $\tau$, и $\varphi$ непрерывно по $\tau$, то:

1. $\Gamma^*(\tau)$ существует и единственна для каждого $\tau$
2. $\Gamma^*(\tau)$ непрерывна по $\tau$
3. $\frac{d\Gamma^*}{d\tau} = \frac{\partial \varphi}{\partial \tau} + (D\varphi)\left(\frac{d\Gamma^*}{d\tau}\right)$ (неявное уравнение)

**Доказательство:** Следует из применения теоремы о неявной функции в банаховом пространстве.

### Октонионный контекст самомоделирования {#октонионный-контекст}

:::note Самомоделирование и альтернативность [И]
В [октонионной интерпретации](../../core/structure/dimensions#октонионная-интерпретация) оператор самомоделирования $\varphi$ действует на пространстве Im(𝕆). Альтернативность октонионов (теорема Артина [Т]) гарантирует, что $\varphi$ ассоциативен при действии на любую пару измерений, но может проявлять неассоциативность при одновременном воздействии на три и более измерения.

Это согласуется со свойством неподвижной точки $\varphi(\Gamma^*) = \Gamma^*$: самосогласованность достигается на полном 7-мерном пространстве, где неассоциативность интегрирована в структуру. Мост [Т] (замкнут, T15). См. [структурный вывод](../minimality/theorem-octonionic-derivation).
:::

---

## Тензорная факторизация φ для составных систем {#тензорная-факторизация}

:::info Связь с запретом сигнализации
Тензорная факторизация $\varphi$ — ключевое свойство, обеспечивающее [совместимость $\mathcal{R}$ с запретом сигнализации](/docs/proofs/physics/physics-correspondence#запрет-сигнализации). Оно гарантирует, что самомоделирование автономных подсистем не создаёт каналов сверхсветовой коммуникации.
:::

### Каноническое расширение φ на составную систему

**Определение (Каноническое расширение $\varphi_A$).** Для автономного голонома $A$ в составной системе $A \otimes B$ расширение $\varphi_A$ определяется:

$$
\tilde{\varphi}_A := \varphi_A \otimes \mathrm{id}_B
$$

Это единственное расширение, совместимое с CPTP-структурой $\varphi_A$ и тензорной структурой категории $\mathbf{DensityMat}$.

### Теорема: тензорная факторизация

:::warning Теорема (Тензорная факторизация φ)

Для составной системы двух автономных голономов $A$ и $B$:

$$
\varphi_{A \otimes B} = \varphi_A \otimes \varphi_B
$$
:::

**Доказательство:**

1. По определению автономности [(A1)](/docs/core/foundations/axiom-septicity#предварительное-условие-автономность): $\mathcal{I}(A:B|\partial A) = 0$ — условная независимость $A$ и $B$.

2. Оператор $\varphi$ определяется как [левый сопряжённый к включению подобъектов](#φ-как-левый-сопряжённый-к-включению-подобъектов):
$$
\varphi \dashv i: \mathrm{Sub}(\Gamma) \hookrightarrow \mathcal{E}
$$

3. Для автономных подсистем решётка подобъектов факторизуется:
$$
\mathrm{Sub}(\Gamma_{AB}) \cong \mathrm{Sub}(\Gamma_A) \times \mathrm{Sub}(\Gamma_B)
$$

4. Левый сопряжённый к произведению включений есть произведение левых сопряжённых:
$$
\varphi_{A \otimes B} = \varphi_A \times \varphi_B \cong \varphi_A \otimes \varphi_B \quad \blacksquare
$$

### Следствие: аннигиляция нелинейного вклада

**Лемма (Аннигиляция регенерации при частичном следе).** Для любого CPTP-канала $\Phi_A$ и скаляра $\alpha \in \mathbb{R}$:

$$
\mathrm{Tr}_A\left[\alpha \cdot ((\Phi_A \otimes \mathrm{id}_B)(\rho_{AB}) - \rho_{AB})\right] = 0
$$

**Следствие:** Регенеративный член $\tilde{\mathcal{R}}_A[\Gamma_{AB}] = \kappa_A \cdot ((\varphi_A \otimes \mathrm{id}_B)(\Gamma_{AB}) - \Gamma_{AB}) \cdot \Theta(\Delta F_A)$ автоматически удовлетворяет запрету сигнализации — вклад в $\Gamma_B = \mathrm{Tr}_A[\Gamma_{AB}]$ равен нулю.

Полное доказательство: [Физическое соответствие — Запрет сигнализации](/docs/proofs/physics/physics-correspondence#запрет-сигнализации).

---

**Связанные документы:**
- [Самонаблюдение](/docs/consciousness/foundations/self-observation) — определение $\varphi$, $R$ и $R^{(n)}$
- [Эволюция](/docs/core/dynamics/evolution) — уравнение движения, регенеративный член $\mathcal{R}$ и канонический $\Delta F$
- [Матрица когерентности](/docs/core/dynamics/coherence-matrix) — определение $\Gamma$
- [Жизнеспособность](/docs/core/dynamics/viability) — мера чистоты $P$ и область $\mathcal{V}$
- [Измерение Единства](/docs/core/structure/dimension-u) — мера интеграции $\Phi$
- [Аксиома Септичности](/docs/core/foundations/axiom-septicity) — коэффициент регенерации $\kappa_0$
- [Иерархия интериорности](/docs/proofs/consciousness/interiority-hierarchy) — уровни L0→L1→L2→L3→L4, пороги $R^{(n)}_{\text{th}}$
- [Категорный формализм](/docs/proofs/categorical/categorical-formalism) — категорная структура УГМ, n-усечения и [запрет сигнализации как естественная трансформация](/docs/proofs/categorical/categorical-formalism#запрет-сигнализации-естественная-трансформация)
- [Голоном](/docs/core/structure/holon) — определение $\mathbb{H}$
- [Физическое соответствие — Запрет сигнализации](/docs/proofs/physics/physics-correspondence#запрет-сигнализации) — полные доказательства
